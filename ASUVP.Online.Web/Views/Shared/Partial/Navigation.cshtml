<nav class="navbar-default navbar-static-side" role="navigation">
    <div class="sidebar-collapse">
        <ul class="nav metismenu" id="side-menu">
            <li class="nav-header">
                <div class="dropdown profile-element">
                    <span>
                        <img alt="image" class="img-circle" src="@Url.Content("~/Content/img/Inspinia/profile_small.jpg")" />
                    </span>

                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <span class="clear">
                            <span class="block m-t-xs">
                                <strong class="font-bold">@AuthManager.User.FullName</strong>
                            </span>
                            <span class="text-muted text-xs block">@AuthManager.User.CompanyName<b class="caret"></b></span>
                        </span>
                    </a>
                    <ul class="dropdown-menu animated fadeInRight m-t-xs">
                        <li>
                            <a href="@Url.Action("Index", "Notification")">Уведомления</a>
                        </li>
                        @if ((int) Session["CountCompanies"] >= 1)
                        {
                            <li>
                                <a href="@Url.Action("UserCompanies", "UserAccount")">Сменить компанию</a>
                            </li>
                            <li class="divider"></li>
                        }

                        <li>
                            <a href="@Url.Action("Logout", "UserAccount")">Выход</a>
                        </li>
                    </ul>
                </div>
                <div class="logo-element">
                    РАТ
                </div>
            </li>
            <li class="hint  hint--right" data-hint="Главная">
                <a href="@Url.Action("Index", "Home")">
                    <i class="fa fa-th-large"></i> <span class="nav-label">Главная</span>  </a>
            </li>
            @if (AuthManager.User.IsInRole(AuthPermissions.ContactView))
            {
                <li>
                    <a href="@Url.Action("Index", "Contact")" class="@Html.IsActive("Index", "Contact") hint  hint--right" data-hint="Контакты">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Контакты</span>  </a>
                </li>
            }

            @if (AuthManager.User.IsInRole(AuthPermissions.AgreementView))
            {
                <li>
                    <a href="@Url.Action("Index", "Agreement")" class="@Html.IsActive("Index", "Agreement") hint  hint--right" data-hint="Договоры">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Договоры</span>  </a>
                </li>
            }
            @if (AuthManager.User.IsInRole(AuthPermissions.ClaimView))
            {
                <li>
                    <a href="@Url.Action("Index", "Claim")" class="@Html.IsActive("Index", "Claim") hint  hint--right" data-hint="Заявки">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Заявки</span>
                    </a>
                </li>
            }

            @if (AuthManager.User.IsInRole(AuthPermissions.ProtocolView))
            {
                <li>
                    <a href="@Url.Action("Index", "Protocol")" class="@Html.IsActive("Index", "Protocol") hint  hint--right" data-hint="Протоколы">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Протоколы</span>
                    </a>
                </li>
            }

            @if (AuthManager.User.IsInRole(AuthPermissions.AccountView))
            {
                <li>
                    <a href="@Url.Action("Index", "Account")" class="@Html.IsActive("Index", "Account") hint  hint--right" data-hint="Счета">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Счета</span>
                    </a>
                </li>
            }

            @if (AuthManager.User.IsInRole(AuthPermissions.InstructionView))
            {
                <li>
                    <a href="@Url.Action("Index", "Instruction")" class="@Html.IsActive("Index", "Instruction") hint  hint--right" data-hint="Инструкции">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Инструкции</span>
                    </a>
                </li>
            }

            @if (AuthManager.User.IsInRole(AuthPermissions.ActView))
            {
                <li>
                    <a href="@Url.Action("Index", "Act")" class="@Html.IsActive("Index", "Act") hint  hint--right" data-hint="Акты">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Акты</span>
                    </a>
                </li>
            }
            @if (AuthManager.User.IsInRole(AuthPermissions.ActView))
            {
                <li>
                    <a href="@Url.Action("Index", "Calculations")" class="@Html.IsActive("Index", "Calculations") hint  hint--right" data-hint="Предварительные расчеты">
                        <i class="fa fa-files-o"></i> <span class="nav-label">Предварительные расчеты</span>
                    </a>
                </li>
            }
            @{
                var hasRolesViewRole = AuthManager.User.IsInRole(AuthPermissions.RoleView);
                var hasUsersViewRole = AuthManager.User.IsInRole(AuthPermissions.UserView);
            }
            @if (hasRolesViewRole || hasUsersViewRole)
            {
                <li class="hint  hint--right" data-hint="Администратор">
                    <a href="#">
                        <i class="fa fa-edit"></i> <span class="nav-label">Администратор</span> <span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level" style="overflow: hidden; z-index: 10000; position: absolute">
                        @if (hasUsersViewRole)
                        {
                            <li>
                                <a class="@Html.IsActive("Index", "User")" href="@Url.Action("Index", "User")">Пользователи</a>
                            </li>
                        }
                        @if (hasRolesViewRole)
                        {
                            <li>
                                <a class="@Html.IsActive("Index", "Role")" href="@Url.Action("Index", "Role")">Роли</a>
                            </li>
                        }
                    </ul>
                </li>
            }


        </ul>

    </div>
</nav>
@Html.Partial("Modal/_ExportXlsxErrorPopup")
@Html.Partial("Modal/_MessagePopup")
@Html.Partial("Modal/_DocumentAttachPopup")